# bkit Command: setup-claude-code
# Platform: Gemini CLI
# Converted from: commands/setup-claude-code.md

description = "Claude Code project setup generation"

prompt = """
# Claude Code Project Setup Generation

Automatically generates Claude Code settings **for any project, any language**.

Supported languages: TypeScript, JavaScript, Python, Go, Rust, Java, C#, Ruby, PHP, etc.

## Usage

```
/setup-claude-code [option]
```

Options:
- `minimal`: Minimal setup (CLAUDE.md + hooks)
- `standard`: Standard setup (+ Commands, Agents)
- `full`: Full setup (+ Skills, MCP, GitHub Action)
- If omitted: Auto-determined after project analysis

## Why This Command?

```
Problem: Need to manually configure Claude Code from scratch for each new project
Solution: Project analysis â†’ Auto-generate settings matching language/structure
```

## Tasks Performed

### Step 1: Project Analysis

```bash
# Analysis targets
1. package.json â†’ Package manager, scripts check
2. Folder structure â†’ Monorepo status, module structure
3. Existing .claude/ â†’ Already configured items
4. tsconfig.json â†’ TypeScript settings
5. .eslintrc / biome.json â†’ Lint settings
6. .prettierrc â†’ Formatter settings
```

### Step 2: Identify Tech Stack

| Item | How to Check |
|------|-------------|
| Package manager | Check lockfile (pnpm-lock.yaml, package-lock.json, bun.lockb) |
| Language | tsconfig.json presence, file extensions |
| Framework | package.json dependencies |
| Monorepo | pnpm-workspace.yaml, turbo.json, lerna.json |
| Test tool | vitest, jest, mocha, etc. |

### Step 3: Determine Configuration Scale

```markdown
## Scale Determination Criteria

### Minimal (Small, 1-3 people)
- Single package
- Simple project

### Standard (Medium, 4-10 people)
- Monorepo or complex single package
- Multiple developer collaboration

### Full (Large, 10+ people)
- Large-scale monorepo
- Multiple domains
- External system integration needed
```

### Step 4: File Generation

#### Generate CLAUDE.md (Always)

**Template reference**: `templates/CLAUDE.template.md`

**Variable substitution list**:

| Variable | Detection Method | Example |
|----------|-----------------|---------|
| `{{PROJECT_NAME}}` | package.json name or folder name | `my-saas-app` |
| `{{PROJECT_DESCRIPTION}}` | package.json description or user input | `AI-powered SaaS` |
| `{{LANGUAGE}}` | tsconfig.json presence, file extensions | `TypeScript` |
| `{{FRAMEWORK}}` | package.json dependencies | `Next.js 14` |
| `{{PACKAGE_MANAGER}}` | Check lockfile | `pnpm` |

#### Generate settings.local.json (Always)

```json
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "{format_command} || true"
          }
        ]
      }
    ]
  }
}
```

#### Generate Commands (Standard, Full)

Create following files in `.claude/commands/` folder:
1. `commit-push-pr.md` - Commit â†’ Push â†’ PR
2. `typecheck-all.md` - Full typecheck
3. `test-module.md` - Module-specific tests
4. `lint-fix.md` - Auto-fix lint
5. `build-all.md` - Full build

#### Generate Agents (Standard, Full)

Create following files in `.claude/agents/` folder:
1. `build-validator.md` - Build validation
2. `code-reviewer.md` - Code review
3. `test-runner.md` - Test execution analysis

#### Generate Skills (Standard, Full)

Common Skills (Auto-generated):
- `{project}-architecture`: Overall architecture
- `{project}-testing`: Test patterns

#### Generate PDCA Folder Structure (Always)

```
docs/
â”œâ”€â”€ 01-plan/
â”‚   â””â”€â”€ _INDEX.md
â”œâ”€â”€ 02-design/
â”‚   â”œâ”€â”€ _INDEX.md
â”‚   â””â”€â”€ features/
â”œâ”€â”€ 03-analysis/
â”‚   â”œâ”€â”€ _INDEX.md
â”‚   â””â”€â”€ issues/
â””â”€â”€ 04-report/
    â””â”€â”€ _INDEX.md
```

### Step 5: Merge with Existing Settings

- Don't overwrite already existing files
- Only add new items or request user confirmation

## Output

```
âœ… Claude Code Setup Complete!

ğŸ“ Generated Files:
- CLAUDE.md âœ…
- .claude/settings.local.json âœ…
- .claude/commands/ (5 files) âœ…
- .claude/agents/ (4 files) âœ…
- .claude/skills/ (4 files) âœ…

ğŸ“Š Configuration Scale: {minimal|standard|full}
ğŸ”§ Tech Stack: {detected_stack}

ğŸ¯ Next Steps:
1. Review and modify CLAUDE.md content
2. Learn usage with /learn-claude-code
3. Check latest trends with /upgrade-claude-code
```

## Cautions

- If existing files exist, backup then attempt merge
- If no package.json, create with default npm settings
- For custom settings, modify manually after generation
"""
